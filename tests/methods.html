<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<script type='text/javascript' src='loader.js'></script>
<script type='text/javascript'>

	var cal;
	var d = new Date();
	var y = d.getFullYear();
	var m = d.getMonth();
	
	var staticEvents;

	$(document).ready(function() {
		cal = $('#calendar').fullCalendar({
			editable: true,
			header: {
				left: 'prev,next today',
				center: 'title',
				right: 'month,basicWeek,basicDay'
			},
			loading: function(bool) {
				if (bool) {
					$('#loading').show();
				}else{
					$('#loading').hide();
				}
			},
			events: staticEvents = [
				{
					id: 1,
					title: "Long Event",
					start: new Date(y, m, 6),
					end: new Date(y, m, 10)
				},
				{
					id: 2,
					title: "Repeating",
					start: new Date(y, m, 2)
				},
				{
					id: 2,
					title: "Repeating",
					start: new Date(y, m, 9)
				},
				{
					id: 3,
					title: "Meeting",
					start: new Date(y, m, 20, 9, 0),
					end: new Date(y, m, 21, 0, 0),
					allDay: false
				},
				{
					id: 4,
					title: "Click for Facebook",
					start: new Date(y, m, 27),
					end: new Date(y, m, 28),
					url: "http://facebook.com/"
				},
				{
					id: 5,
					title: "timed event1",
					start: new Date (y, m, 31, 17, 30),
					allDay: false
				},
				{
					id: 6,
					title: "timed event1",
					start: new Date (y, m+1, 2, 14, 15),
					allDay: false
				},
				{
					id: 7,
					title: "timed event1",
					start: new Date (y, m+1, 4, 15, 00),
					end: new Date(y, m+1, 4, 17, 00),
					allDay: false
				}
			]
		});
	});
	
	function updateEventStart() {
		var event = cal.fullCalendar('clientEvents', 3)[0];
		event.start = new Date(y, m, 25, 10, 30);
		event.end = new Date(y, m, 26);
		//event.allDay = true;
		cal.fullCalendar('updateEvent', event);
	}
	
	function updateRepeatingEvent() {
		var event = cal.fullCalendar('clientEvents', 2)[0];
		event.start = new Date(y, m, 4, 13, 30);
		event.end = new Date(y, m, 5, 2, 0);
		event.allDay = false;
		event.title = "repeat yo";
		//event.editable = false;
		event.url = "http://google.com/";
		cal.fullCalendar('updateEvent', event);
		//console.log(cal.fullCalendar('clientEvents', 2));
	}
	
	function renderEvent(stick) {
		cal.fullCalendar('renderEvent', {
			start: new Date(y, m, 16),
			title: 'heyman'
		}, stick);
	}
	
	var gcalFeed = $.fullCalendar.gcalFeed("http://www.google.com/calendar/feeds/usa__en%40holiday.calendar.google.com/public/basic");
	
	var jsonFeed = "../examples/json-events.php";

</script>
<style>

	button {
		font-size: 11px;
	}

</style>
</head>
<body style='font-size:12px'>
<p>

<button onclick="cal.fullCalendar('prev')">prev</button>
<button onclick="cal.fullCalendar('next')">next</button>
<button onclick="cal.fullCalendar('today')">today</button>
<button onclick="cal.fullCalendar('gotoDate', 1999, 9, 31)">Oct 31 1999</button>
<button onclick="cal.fullCalendar('incrementDate', 1, 1, 1)">+1 +1 +1</button>
<button onclick="cal.fullCalendar('incrementDate', -1, -1, -1)">-1 -1 -1</button>

<button onclick="updateEventStart()">update event start</button>
<button onclick="updateRepeatingEvent()">update repeating event</button>
<button onclick="renderEvent(false)">render new event</button>
<button onclick="renderEvent(true)">render new sticky event</button>
<br />

<button onclick="cal.fullCalendar('removeEvents')">remove all</button>
<button onclick="cal.fullCalendar('removeEvents', 2)">remove repeating events</button>
<button onclick="cal.fullCalendar('removeEvents', function(e){return !e.allDay})">remove timed events</button>
<button onclick="console.log(cal.fullCalendar('clientEvents'))">log events</button>
<button onclick="console.log(cal.fullCalendar('clientEvents', '2'))">log repeating events</button>
<button onclick="console.log(cal.fullCalendar('clientEvents', function(e){return e.allDay}))">log all-day events</button>
<br />

<button onclick="cal.fullCalendar('addEventSource', staticEvents)">+ static events</button>
<button onclick="cal.fullCalendar('removeEventSource', staticEvents)">- static events</button>
<button onclick="cal.fullCalendar('addEventSource', gcalFeed)">+ gcal</button>
<button onclick="cal.fullCalendar('removeEventSource', gcalFeed)">- gcal</button>
<button onclick="cal.fullCalendar('addEventSource', jsonFeed)">+ json</button>
<button onclick="cal.fullCalendar('removeEventSource', jsonFeed)">- json</button>

<button onclick="cal.fullCalendar('rerenderEvents')">rerender</button>
<button onclick="cal.fullCalendar('refetchEvents')">refetch</button>
<br />

<button onclick="cal.fullCalendar('changeView', 'month')">change to month</button>
<button onclick="cal.fullCalendar('changeView', 'basicWeek')">change to basicWeek</button>
<button onclick="cal.fullCalendar('changeView', 'basicDay')">change to basicDay</button>
<button onclick="cal.fullCalendar('render')">render</button>

</p>
<div id='loading' style='position:absolute;display:none'>loading...</div>
<div id='calendar' style='width:900px;margin:20px auto 0;font-family:arial'></div>
</body>
</html>